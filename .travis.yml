branches:
  only:
  - "/travis/.*/"
  - master
  - release
  - "/^v\\d+\\.\\d+(\\.\\d+)?(-\\S*)?$/"
git:
  quiet: true
matrix:
  include:
  - language: android
    sudo: required
    jdk: oraclejdk8
    before_cache:
    - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
    - rm -rf $HOME/.gradle/caches/*/plugin-resolution/
    cache:
      directories:
      - "$HOME/.gradle/caches"
      - "$HOME/m2/repository"
      - "$HOME/.android"
      - ".gradle"
    env:
    - RELEASE_BUILD=true
    - PATH="$HOME/.bin:$PATH"
    android:
      components:
      - platform-tools
      - android-28
      - build-tools-29.0.2
      - extra-google-m2repository
      - extra-android-m2repository
      - tools
      licenses:
      - android-sdk-preview-license-.+
      - android-sdk-license-.+
      - google-gdk-license-.+
    before_install:
    - >
      openssl aes-256-cbc -K $encrypted_b21da5e06ef6_key -iv $encrypted_b21da5e06ef6_iv
      -in .enrcypted/to_be_encrypted.zip.enc -out to_be_encrypted.zip -d
    - unzip to_be_encrypted.zip
    - .travis/android/before_install.bash
    script:
    - .travis/android/script.bash
env:
  global:
    - secure: Nm8gTebaFIM4VhA33mhLkbMcwxDRyU3mYRkk0schv2DPPlIEZmUcZFyIwzTlzsWNQVwJCmgI5ER30XMMQFBa95MXgMoNHfMxaimfLuUcGipcwFtV5NYDfhkExE5aLI2KrVIVj6a4FmF54qalMQdZZoAP6a6F3BoE8lNF22pouewQ2LQfVq248o3hPY+4g18V3hU+eXViJPegRu2JUHPDCBC1kY6/Fw/teksNihPzAi7TOdNVneimR+OV4NPgQC7xJcta9/it+SBjgPcPjQgqJcY5Y9lnJKq51SsU7hDD/Yy3lC50icxwlKJUbJ3Y4Hxzylhwh7B8lTeG34CxIb5XAwMHA+gmZWYqJw8weqInfcYlFBVpZAkqJYS+d0sKpsGRf0vXIUffsb+fT8LLHpQYToGy46s9StkPlDqN+rpvu2ulmObmo2sSWnbI3BhsHGItSR8OuQGRkqqJYKtSVU5KeKoUwje5peHbEs69tZeQXV1rht4P8IdKukTALn7aa+kcKK4kw8AAuY/juGLl6NHHAolJv8KvuE2FFdIj7WiGcM01/1cSbufcmJdnVQ011o26lkSZ//RcmPylLTOJDDRA/8vLezRdsQ3hn04mNz8mZR+8pRf++MJIad9iERubjHnkw0Fik8s7Ce+0ZNzZgV3DaLCfW3V5AOjd0PcF2JNWR50=
